import{_ as s,c as n,o as a,e}from"./app-BzyLCCjA.js";const t={},l=e(`<h1 id="utilizando-arquivos-yaml" tabindex="-1"><a class="header-anchor" href="#utilizando-arquivos-yaml"><span>Utilizando arquivos .yaml</span></a></h1><p>O minimo que o arquivo precisa</p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml" data-title="yml"><pre><code><span class="line">apiVersion</span>
<span class="line">kind</span>
<span class="line">metadata</span>
<span class="line">spec</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>apiVersion: Versão da api que será utilizada na criação do objeto.</li><li>kind: Tipo de objeto que será criado.</li><li>metadata: Metadados referente ao objeto.</li><li>spec: O que terá no objeto, &quot;No caso containers&quot;.</li></ul><p>Como saber a apiVersion:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">$ kubectl api-resources</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>Inserir imagem do resultado do comando acima</li></ul><p>Arquivo para criação de um <strong>Pod</strong> final</p><blockquote><p>OBS: A identação é muito importante, utilize sempre 2 espaços para a tabulação.</p></blockquote><h2 id="pod" tabindex="-1"><a class="header-anchor" href="#pod"><span>Pod</span></a></h2><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml" data-title="yml"><pre><code><span class="line"><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1</span>
<span class="line"><span class="token key atrule">kind</span><span class="token punctuation">:</span> Pod</span>
<span class="line"><span class="token key atrule">metadata</span><span class="token punctuation">:</span></span>
<span class="line">	<span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> meupod</span>
<span class="line">		<span class="token key atrule">labels</span><span class="token punctuation">:</span> </span>
<span class="line">			<span class="token key atrule">app</span><span class="token punctuation">:</span> meupod<span class="token punctuation">-</span>label</span>
<span class="line"><span class="token key atrule">spec</span><span class="token punctuation">:</span></span>
<span class="line">	<span class="token key atrule">containers</span><span class="token punctuation">:</span></span>
<span class="line">		<span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> myapp<span class="token punctuation">-</span>api</span>
<span class="line">			<span class="token key atrule">image</span><span class="token punctuation">:</span> oregontecnologia/myapp<span class="token punctuation">-</span>api<span class="token punctuation">:</span>1.0.2</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Criando o objeto com <strong>create</strong> ou <strong>apply</strong></p><blockquote><p>O comando <strong>create</strong> somente cria o objeto se o objeto já estiver sido criado apresenta erro. O comando <strong>apply</strong> cria ou atualiza o objeto se caso houver alguma mudança e o objeto já estiver sido criado anteriormente.</p></blockquote><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">$ kubectl apply -f arquivo.yaml</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Verficando se está sendo executado a criação</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">$ kubectl get pods</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><blockquote><p>A flag <strong>-o wide</strong> mostra mais detalhes sobre o pod em execução.</p></blockquote><p>Saber toda a informação do pod ou do deploy</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">$ kubectl describe pod myapp-api</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>ou</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">$ kubectl describe deploy ou deployments</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="replicaset" tabindex="-1"><a class="header-anchor" href="#replicaset"><span>ReplicaSet</span></a></h2><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml" data-title="yml"><pre><code><span class="line"><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> apps/v1</span>
<span class="line"><span class="token key atrule">kind</span><span class="token punctuation">:</span> Replicaset</span>
<span class="line"><span class="token key atrule">metadata</span><span class="token punctuation">:</span></span>
<span class="line">	<span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> meureplicaset</span>
<span class="line"><span class="token key atrule">spec</span><span class="token punctuation">:</span></span>
<span class="line">	<span class="token key atrule">replicas</span><span class="token punctuation">:</span> <span class="token number">5</span></span>
<span class="line">	<span class="token key atrule">selector</span><span class="token punctuation">:</span></span>
<span class="line">		<span class="token key atrule">matchLabels</span><span class="token punctuation">:</span></span>
<span class="line">			<span class="token key atrule">app</span><span class="token punctuation">:</span> meupod<span class="token punctuation">-</span>label</span>
<span class="line">		<span class="token key atrule">template</span><span class="token punctuation">:</span></span>
<span class="line">			<span class="token key atrule">metadata</span><span class="token punctuation">:</span></span>
<span class="line">				<span class="token key atrule">labels</span><span class="token punctuation">:</span> </span>
<span class="line">					<span class="token key atrule">app</span><span class="token punctuation">:</span> meupod<span class="token punctuation">-</span>label</span>
<span class="line">			<span class="token key atrule">spec</span><span class="token punctuation">:</span></span>
<span class="line">				<span class="token key atrule">containers</span><span class="token punctuation">:</span></span>
<span class="line">					<span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> myapp<span class="token punctuation">-</span>api</span>
<span class="line">						<span class="token key atrule">image</span><span class="token punctuation">:</span> oregontecnologia/myapp<span class="token punctuation">-</span>api<span class="token punctuation">:</span>1.0.2</span>
<span class="line">	</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Verficando se está sendo executado a criação</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">$ kubectl get replicaset</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="deployment-ou-deploy" tabindex="-1"><a class="header-anchor" href="#deployment-ou-deploy"><span>Deployment ou Deploy</span></a></h2><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml" data-title="yml"><pre><code><span class="line"><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> apps/v1</span>
<span class="line"><span class="token key atrule">kind</span><span class="token punctuation">:</span> Deployment</span>
<span class="line"><span class="token key atrule">metadata</span><span class="token punctuation">:</span></span>
<span class="line">	<span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> meudeploy</span>
<span class="line"><span class="token key atrule">spec</span><span class="token punctuation">:</span></span>
<span class="line">	<span class="token key atrule">replicas</span><span class="token punctuation">:</span> <span class="token number">5</span></span>
<span class="line">	<span class="token key atrule">selector</span><span class="token punctuation">:</span></span>
<span class="line">		<span class="token key atrule">matchLabels</span><span class="token punctuation">:</span></span>
<span class="line">			<span class="token key atrule">app</span><span class="token punctuation">:</span> meupod<span class="token punctuation">-</span>label</span>
<span class="line">		<span class="token key atrule">template</span><span class="token punctuation">:</span></span>
<span class="line">			<span class="token key atrule">metadata</span><span class="token punctuation">:</span></span>
<span class="line">				<span class="token key atrule">labels</span><span class="token punctuation">:</span> </span>
<span class="line">					<span class="token key atrule">app</span><span class="token punctuation">:</span> meupod<span class="token punctuation">-</span>label</span>
<span class="line">			<span class="token key atrule">spec</span><span class="token punctuation">:</span></span>
<span class="line">				<span class="token key atrule">containers</span><span class="token punctuation">:</span></span>
<span class="line">					<span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> myapp<span class="token punctuation">-</span>api</span>
<span class="line">						<span class="token key atrule">image</span><span class="token punctuation">:</span> oregontecnologia/myapp<span class="token punctuation">-</span>api<span class="token punctuation">:</span>1.0.2</span>
<span class="line">	</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Verficando se está sendo executado a criação</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">$ kubectl get deploy</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="service" tabindex="-1"><a class="header-anchor" href="#service"><span>Service</span></a></h2><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml" data-title="yml"><pre><code><span class="line"><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1</span>
<span class="line"><span class="token key atrule">kind</span><span class="token punctuation">:</span> Service</span>
<span class="line"><span class="token key atrule">metadata</span><span class="token punctuation">:</span></span>
<span class="line">	<span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> meudservice</span>
<span class="line"><span class="token key atrule">spec</span><span class="token punctuation">:</span></span>
<span class="line">	<span class="token key atrule">selector</span><span class="token punctuation">:</span></span>
<span class="line">		<span class="token key atrule">app</span><span class="token punctuation">:</span> meupod<span class="token punctuation">-</span>label</span>
<span class="line">	<span class="token key atrule">ports</span><span class="token punctuation">:</span></span>
<span class="line">		<span class="token punctuation">-</span> <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">80</span></span>
<span class="line">	<span class="token key atrule">type</span><span class="token punctuation">:</span> LoadBalancer &lt;<span class="token punctuation">-</span> ClusterIP <span class="token punctuation">|</span> NodePort <span class="token punctuation">|</span> LoadBalancer</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Verficando se está sendo executado a criação</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">$ kubectl get services</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,33),p=[l];function i(c,o){return a(),n("div",null,p)}const r=s(t,[["render",i],["__file","05-running-yamls.html.vue"]]),d=JSON.parse('{"path":"/br/kubernetes/05-running-yamls.html","title":"Utilizando arquivos .yaml","lang":"Português","frontmatter":{},"headers":[{"level":2,"title":"Pod","slug":"pod","link":"#pod","children":[]},{"level":2,"title":"ReplicaSet","slug":"replicaset","link":"#replicaset","children":[]},{"level":2,"title":"Deployment ou Deploy","slug":"deployment-ou-deploy","link":"#deployment-ou-deploy","children":[]},{"level":2,"title":"Service","slug":"service","link":"#service","children":[]}],"git":{"updatedTime":1748002949000,"contributors":[{"name":"Celso Nery","email":"celso.nery@gmail.com","commits":1}]},"filePathRelative":"br/kubernetes/05-running-yamls.md"}');export{r as comp,d as data};
