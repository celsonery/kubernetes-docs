import{_ as e,c as a,o as t,a as s}from"./app-h7mth2r0.js";const r={},i=s(`<h1 id="preparacao-do-ambiente" tabindex="-1"><a class="header-anchor" href="#preparacao-do-ambiente"><span>Preparação do ambiente</span></a></h1><h3 id="requisitos" tabindex="-1"><a class="header-anchor" href="#requisitos"><span>Requisitos</span></a></h3><ol><li>Mínimo de 3 servers</li><li>Servidor master (control-plane) com 2 CPU&#39;s (cores) 2 GB de RAM</li><li>Servidor slaves (workers) com 1 CPU e 1 GB de RAM</li><li>Acesso administrativo (root)</li></ol><h3 id="preparacao" tabindex="-1"><a class="header-anchor" href="#preparacao"><span>Preparação</span></a></h3><p>Adicione nomes e IPs das maquinas no arquivo <strong>/etc/hosts</strong></p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">10.0.10.100  master.empresa.local    master</span>
<span class="line">10.0.10.101  slav01.empresa.local    slav01</span>
<span class="line">10.0.10.102  slav02.empresa.local    slav02</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Configure o firewall</p><p>Master:</p><table><thead><tr><th>Porta</th><th>Protocolo</th></tr></thead><tbody><tr><td>6443</td><td>TCP</td></tr><tr><td>2379-2380</td><td>TCP</td></tr><tr><td>10250</td><td>TCP</td></tr><tr><td>10251</td><td>TCP</td></tr><tr><td>10252</td><td>TCP</td></tr><tr><td>10253</td><td>TCP</td></tr></tbody></table><p>Slaves:</p><table><thead><tr><th>Porta</th><th>Protocolo</th></tr></thead><tbody><tr><td>10251</td><td>TCP</td></tr><tr><td>10255</td><td>TCP</td></tr></tbody></table><p>Desabilite o SWAP</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line"># swapon -s</span>
<span class="line"># swapoff -a</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Edite o arquivo <strong>/etc/fstab</strong> e comente a linha correspondente ao arquivo de troca (swap)</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">#/dev/mapper/master--vg-swap_1 none swap    sw  0   0</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Após toda configuração verifique se as maquinas estão se enxergando com o <strong>ping</strong></p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line"># ping slav01</span>
<span class="line"># ping slav02</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Se tudo correu bem e obteve resposta dos nós escravos e vice-versa reinicie os computadores.</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line"># shutdown -r now</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,19),n=[i];function d(l,o){return t(),a("div",null,n)}const c=e(r,[["render",d],["__file","01-prepare.html.vue"]]),m=JSON.parse('{"path":"/br/kubernetes/01-prepare.html","title":"Preparação do ambiente","lang":"Português","frontmatter":{},"headers":[{"level":3,"title":"Requisitos","slug":"requisitos","link":"#requisitos","children":[]},{"level":3,"title":"Preparação","slug":"preparacao","link":"#preparacao","children":[]}],"git":{"updatedTime":1748002949000,"contributors":[{"name":"Celso Nery","email":"celso.nery@gmail.com","commits":1}]},"filePathRelative":"br/kubernetes/01-prepare.md"}');export{c as comp,m as data};
